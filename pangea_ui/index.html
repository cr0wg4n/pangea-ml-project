<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pangea</title>
  <script src="//unpkg.com/d3"></script>
  <script src="//unpkg.com/globe.gl"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/vue@2"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/dmhendricks/bootstrap-grid-css@4.1.3/dist/css/bootstrap-grid.min.css" />
  <link rel="stylesheet" href="/index.css">
</head>

<body>
  <div id="app" class="bootstrap-wrapper">
    <div id="globeViz"></div>
    <div 
      class="block"
      style="top: 0%; left: 0%;"  
    >
        <!-- <div class="col-2 logo">
          <img src="/assets/img/logo.png" alt="" width="90%">
        </div> -->
        <h1>Pangea</h1>
        <p>Â¿QuÃ© comer, visitar y disfrutar? </p>
    </div>

    <div v-if="chat"
      class="block pet"
      style="bottom: -45px; right: 400px;"
    >
      <img src="/assets/img/iamita.png" width="80%">
    </div>

    <div
      class="block"
      style="top: 0; 
      left: 0;
      right: 0;
      margin: 20px auto;
      width: 500px;"
    >
      <input 
        type="text" 
        placeholder="Busca tu siguiente destino" 
        style="height: 50px;"
      >
    </div>

    <div
      v-show="chat"
      class="block-borded information"
      style="left: 0; bottom: 400px; width: 300px;"
    >
      <h2 style="text-align: center;">
        Estado Plurinacional de Bolivia
      </h2>
      <div class="flag">
        <img src="/assets/img/bandera_bolivia.png" width="100%">
      </div>
      <div class="description">
        <p><strong>Capital</strong>: Sucre</p>
        <p><strong>Sede de Gobierno</strong>: La Paz</p>
        <p><strong>Superficie</strong>: 1 098 581 kmÂ²</p> 
        <p><strong>Habitantes</strong>: 11 633 371 hab.</p>
      </div>
    </div>


    <div 
      v-show="chat"
      class="block-borded"
      style="right: 0%; width: 550px;"
    >
      <h3>Chat (Bolivia ğŸ‡§ğŸ‡´)</h3>
      <div id="chat" class="chat-content">
        <div v-for="(message, key) in messages" :key="key" :class="['message', message.bot ? 'bg-primary' : 'bg-secondary']">
          <div v-if="message.bot" class="row">
            <div class="col-2">
              <div class="avatar">
                <img :src="message.image">
              </div>
            </div>
            <div class="col-10">
              <p>
                {{ message.message }}  
              </p>
              <p>
                <a v-for="(url, i) in message.urls" :key="i" :href="url" target="_blank" rel="noopener noreferrer">
                  {{ shortUrl(url) }}
                </a>
              </p>
              <div class="stars" v-if="message.urls.length">
                <label v-for="n in 5" class="star" :class="{ selected: 6-n <= message.stars }" @click="assingStar(key, n)">â˜…</label>
                <!-- <label class="star">â˜…</label>
                <label class="star">â˜…</label>
                <label class="star">â˜…</label>
                <label class="star">â˜…</label> -->
              </div>
            </div>
          </div>
          <div v-else class="row">
            <div class="col-10">
              <p> 
                {{ message.message }}  
              </p>
            </div>
            <div class="col-2">
              <div class="avatar">
                <img :src="message.image">
              </div>
            </div>
          </div>
        </div>
<!-- 
        <div class="message bg-primary">
          <div class="row">
            <div class="col-2">
              <div class="avatar">
                <img src="/assets/img/logo.png" alt="">
              </div>
            </div>
            <div class="col-10">
              <p>
                Â¿Tienes dudas?, yo te puedo ayudar ğŸ˜
              </p>
            </div>
          </div>
        </div>
        <div class="message bg-secondary">
          <div class="row">
            <div class="col-10">
              <p> Â¿Donde puedo comer salteÃ±as en cochabamba?</p>
            </div>
            <div class="col-2">
              <div class="avatar">
                <img src="https://avatars.dicebear.com/api/croodles-neutral/.svg" alt="">
              </div>
            </div>
          </div>
        </div>
        <div class="message bg-primary">
          <div class="row">
            <div class="col-2">
              <div class="avatar">
                <img src="/assets/img/logo.png" alt="">
              </div>
            </div>
            <div class="col-10">
              <p>
                SalteÃ±eria los Castores
                <br>
                <a href="http://www.los-castores.com/Cochabamba/" target="_blank" rel="noopener noreferrer">
                  http://www.los-castores...
                </a>
              </p>
              <div class="stars">
                <label class="star">â˜…</label>
                <label class="star">â˜…</label>
                <label class="star">â˜…</label>
                <label class="star">â˜…</label>
                <label class="star">â˜…</label>
              </div>
            </div>
          </div>
        </div>
        <div class="message bg-primary">
          <div class="row">
            <div class="col-2">
              <div class="avatar">
                <img src="/assets/img/logo.png" alt="">
              </div>
            </div>
            <div class="col-10">
              <p>
                SalteÃ±eria el EdÃ©n
                <br>
                <a href="http://www.los-castores.com/Cochabamba/" target="_blank" rel="noopener noreferrer">
                  http://www.los-castores...
                </a>
              </p>
              <div class="stars">
                <label class="star">â˜…</label>
                <label class="star">â˜…</label>
                <label class="star">â˜…</label>
                <label class="star">â˜…</label>
                <label class="star">â˜…</label>
              </div>
            </div>
          </div>
        </div> -->
      </div>

      <form @submit.prevent="addMessage">
        <div class="container">
          <div class="row">
            <div class="col-9">
              <input type="chat" v-model="userMessage" placeholder="Introduce una pregunta..">
            </div>
            <div class="col-3">
              <button type="submit"> 
                <p>Enviar</p>
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
  <script src="./index.js"></script>
</body>
</html>